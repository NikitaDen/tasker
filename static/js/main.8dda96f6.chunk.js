(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,function(e,t,n){e.exports=n.p+"static/media/done.6fc8520a.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/pin.21f97986.svg"},function(e,t,n){e.exports=n.p+"static/media/edit.718de568.svg"},function(e,t,n){e.exports=n.p+"static/media/add.b0564449.svg"},function(e,t,n){e.exports=n.p+"static/media/delete.ee635b5a.svg"},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(8),i=n.n(c),s=(n(18),n(2)),r=(n(19),o.createContext()),u=n(9),d=n.n(u),l=n(10),m=n.n(l),b=n(5),p=n.n(b),f=function(e){var t=Object(o.useState)(""),n=Object(s.a)(t,2),c=n[0],i=n[1],r=Object(o.useState)(!1),u=Object(s.a)(r,2),l=u[0],b=u[1];return a.a.createElement("div",{className:"todo-subitem"},a.a.createElement("div",{className:"todo-subitem__check"},e.item.isDone?a.a.createElement("img",{src:p.a,className:"isDone",alt:"done"}):a.a.createElement("span",{className:"checkSpan"}),a.a.createElement("input",{className:"isDoneCheckbox",type:"checkbox",onChange:function(){return e.dispatch(e.toggleSubTodoAC(e.id,e.item.subId))}})),l?a.a.createElement("span",{style:e.item.isDone?{textDecoration:"line-through"}:{}},e.item.title||"Press edit"):a.a.createElement("input",{type:"text",value:c,onChange:function(e){return i(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e.dispatch(e.editSubTodoAC(e.item.subId,e.id,{title:c})),b(!0))},onBlur:function(){b(!0)},autoFocus:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0446\u0435\u043b\u044c"}),a.a.createElement("div",{className:"buttons"},a.a.createElement("img",{src:m.a,alt:"edit",className:"button",onClick:function(){b(!1)}}),a.a.createElement("img",{src:d.a,alt:"remove",className:"button",onClick:function(){return e.dispatch(e.deleteSubTodoAC(e.id,e.item.subId))}})))},T=n(11),E=n.n(T),D=n(12),O=n.n(D),g=function(e){var t=Object(o.useContext)(r),n=t.dispatch,c=t.addSubTodoAC,i=t.deleteTodoAC,s=t.toggleTodoAC,u=t.editSubTodoAC,d=t.toggleSubTodoAC,l=t.deleteSubTodoAC;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:e.isDone?"todo-item todo-item--done":"todo-item"},a.a.createElement("div",null,e.isDone?a.a.createElement("img",{src:p.a,className:"isDone isDone--todo",alt:"done"}):a.a.createElement("span",{className:"checkSpan checkSpan--todo"}),a.a.createElement("input",{type:"checkbox",className:"isDoneCheckbox isDoneCheckbox--todo",checked:e.isDone,onChange:function(){return n(s(e.id))}})),a.a.createElement("span",null,e.title),a.a.createElement("div",{className:"buttons"},a.a.createElement("img",{src:E.a,className:"button",onClick:function(){return n(c(e.id,{title:"",subId:Date.now()}))},alt:"add"}),a.a.createElement("img",{src:O.a,alt:"delete",className:"button",onClick:function(){return n(i(e.id))}}))),e.subTodo.map((function(t){return a.a.createElement(f,Object.assign({key:t.subId},e,{dispatch:n,toggleSubTodoAC:d,deleteSubTodoAC:l,editSubTodoAC:u,item:t}))})).reverse())},h=n(1),S=n(6),C=function(e,t){switch(t.type){case"ADD":return[].concat(Object(S.a)(e),[{id:Date.now(),title:t.payload,isDone:!1,subTodo:[],progress:0}]);case"ADD_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{subTodo:[].concat(Object(S.a)(e.subTodo),[Object(h.a)({},t.payload,{subId:Date.now(),isDone:!1})])}):e}));case"TOGGLE_TODO":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{isDone:!e.isDone}):e}));case"TOGGLE_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(h.a)({},e,{isDone:!e.isDone}):e}))}):e}));case"EDIT_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(h.a)({},e,{},t.payload):e}))}):e}));case"DELETE":return e.filter((function(e){return e.id!==t.id}));case"DELETE_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{subTodo:e.subTodo.filter((function(e){return e.subId!==t.subId}))}):e}));default:return e}},v=function(e,t){return{type:"ADD_SUB_TODO",id:e,payload:t}},y=function(e){return{type:"TOGGLE_TODO",id:e}},k=function(e,t){return{type:"TOGGLE_SUB_TODO",subId:t,id:e}},A=function(e,t,n){return{type:"EDIT_SUB_TODO",subId:e,id:t,payload:n}},j=function(e){return{type:"DELETE",id:e}},I=function(e,t){return{type:"DELETE_SUB_TODO",subId:t,id:e}},_=function(){var e=JSON.parse(localStorage.getItem("todos"))||[],t=Object(o.useReducer)(C,e),n=Object(s.a)(t,2),c=n[0],i=n[1],u=Object(o.useState)(""),d=Object(s.a)(u,2),l=d[0],m=d[1];Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(c))}),[c]);return a.a.createElement(r.Provider,{value:{dispatch:i,addSubTodoAC:v,deleteTodoAC:j,toggleTodoAC:y,editSubTodoAC:A,toggleSubTodoAC:k,deleteSubTodoAC:I}},a.a.createElement("div",{className:"App"},a.a.createElement("h3",null,"Tasker"),a.a.createElement("input",{className:"main-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0446\u0435\u043b\u044c",value:l,onChange:function(e){return m(e.target.value)},autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&(i(function(e){return{type:"ADD",payload:e}}(l)),m(""))}}),c.map((function(e){return a.a.createElement(g,{key:e.id,subTodo:e.subTodo,isDone:e.isDone,id:e.id,title:e.title})})).reverse()))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.8dda96f6.chunk.js.map