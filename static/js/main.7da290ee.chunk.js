(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,function(e,t,n){e.exports=n.p+"static/media/done.6fc8520a.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/pin.21f97986.svg"},function(e,t,n){e.exports=n.p+"static/media/edit.718de568.svg"},function(e,t,n){e.exports=n.p+"static/media/add.b0564449.svg"},function(e,t,n){e.exports=n.p+"static/media/delete.ee635b5a.svg"},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(8),i=n.n(c),s=(n(18),n(2)),r=(n(19),a.createContext()),u=n(9),d=n.n(u),l=n(10),m=n.n(l),p=n(5),b=n.n(p),E=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),u=Object(s.a)(r,2),l=u[0],p=u[1];return o.a.createElement("div",{className:"todo-subitem"},o.a.createElement("div",{className:"todo-subitem__check"},e.item.isDone?o.a.createElement("img",{src:b.a,className:"isDone",alt:"done"}):o.a.createElement("span",{className:"checkSpan"}),o.a.createElement("input",{className:"isDoneCheckbox",type:"checkbox",onChange:function(){return e.dispatch({type:"TOGGLE_SUB_TODO",id:e.id,subId:e.item.subId})}})),l?o.a.createElement("span",{style:e.item.isDone?{textDecoration:"line-through"}:{}},e.item.title||"Press edit"):o.a.createElement("input",{type:"text",value:c,onChange:function(e){return i(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e.dispatch({type:"EDIT_SUB_TODO",subId:e.item.subId,id:e.id,payload:{title:c}}),p(!0))},onBlur:function(){p(!0)},autoFocus:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0446\u0435\u043b\u044c"}),o.a.createElement("div",{className:"buttons"},o.a.createElement("img",{src:m.a,alt:"edit",className:"button",onClick:function(){p(!1)}}),o.a.createElement("img",{src:d.a,alt:"remove",className:"button",onClick:function(){return e.dispatch({type:"DELETE_SUB_TODO",id:e.id,subId:e.item.subId})}})))},D=n(11),O=n.n(D),f=n(12),h=n.n(f),T=function(e){var t=Object(a.useContext)(r).dispatch;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.isDone?"todo-item todo-item--done":"todo-item"},o.a.createElement("div",null,e.isDone?o.a.createElement("img",{src:b.a,className:"isDone isDone--todo",alt:"done"}):o.a.createElement("span",{className:"checkSpan checkSpan--todo"}),o.a.createElement("input",{type:"checkbox",className:"isDoneCheckbox isDoneCheckbox--todo",checked:e.isDone,onChange:function(){return t({type:"TOGGLE_TODO",id:e.id})}})),o.a.createElement("span",null,e.title),o.a.createElement("div",{className:"buttons"},o.a.createElement("img",{src:O.a,className:"button",onClick:function(){return t({type:"ADD_SUB_TODO",id:e.id,payload:{title:"",subId:Date.now()}})},alt:"add"}),o.a.createElement("img",{src:h.a,alt:"delete",className:"button",onClick:function(){return t({type:"DELETE",id:e.id})}}))),e.subTodo.map((function(n){return o.a.createElement(E,Object.assign({key:n.subId},e,{dispatch:t,item:n}))})).reverse())},g=n(1),v=n(6),y=function(e,t){switch(t.type){case"ADD":return[].concat(Object(v.a)(e),[{id:Date.now(),title:t.payload,isDone:!1,subTodo:[],progress:0}]);case"ADD_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(g.a)({},e,{subTodo:[].concat(Object(v.a)(e.subTodo),[Object(g.a)({},t.payload,{subId:Date.now(),isDone:!1})])}):e}));case"EDIT_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(g.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(g.a)({},e,{},t.payload):e}))}):e}));case"TOGGLE_TODO":return e.map((function(e){return e.id===t.id?Object(g.a)({},e,{isDone:!e.isDone}):e}));case"TOGGLE_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(g.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(g.a)({},e,{isDone:!e.isDone}):e}))}):e}));case"DELETE":return e.filter((function(e){return e.id!==t.id}));case"DELETE_SUB_TODO":return e.map((function(e){return e.id===t.id?Object(g.a)({},e,{subTodo:e.subTodo.filter((function(e){return e.subId!==t.subId}))}):e}));default:return e}},k=function(){var e=JSON.parse(localStorage.getItem("todos"))||[],t=Object(a.useReducer)(y,e),n=Object(s.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(""),d=Object(s.a)(u,2),l=d[0],m=d[1];Object(a.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(c))}),[c]);return o.a.createElement(r.Provider,{value:{dispatch:i}},o.a.createElement("div",{className:"App"},o.a.createElement("h3",null,"Tasker"),o.a.createElement("input",{className:"main-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0446\u0435\u043b\u044c",value:l,onChange:function(e){return m(e.target.value)},autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&(i({type:"ADD",payload:l}),m(""))}}),c.map((function(e){return o.a.createElement(T,{key:e.id,subTodo:e.subTodo,isDone:e.isDone,id:e.id,title:e.title})})).reverse()))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.7da290ee.chunk.js.map