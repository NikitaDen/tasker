(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,function(e,t,n){e.exports=n.p+"static/media/done.6fc8520a.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/pin.fd6c39aa.svg"},function(e,t,n){e.exports=n.p+"static/media/edit.c22620d9.svg"},function(e,t,n){e.exports=n.p+"static/media/add.b1160944.svg"},function(e,t,n){e.exports=n.p+"static/media/delete.a11d67e2.svg"},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),c=n.n(i),s=(n(18),n(2)),r=(n(19),a.createContext()),u=n(9),d=n.n(u),l=n(10),m=n.n(l),b=n(5),f=n.n(b),p=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)(!1),u=Object(s.a)(r,2),l=u[0],b=u[1];return Object(a.useEffect)((function(){return e.toggleDone(!0)}),[e.item.isDone]),o.a.createElement("div",{className:"todo-subitem"},o.a.createElement("div",{className:"todo-subitem__check"},e.item.isDone?o.a.createElement("img",{src:f.a,className:"isDone",alt:"done"}):o.a.createElement("span",{className:"checkSpan"}),o.a.createElement("input",{className:"isDoneCheckbox",type:"checkbox",onChange:function(){e.dispatch(e.toggleSubTodoAC(e.id,e.item.subId))}})),l?o.a.createElement("div",{className:"todo-subitem__text",style:e.item.isDone?{textDecoration:"line-through"}:{}},e.item.title||"Press edit"):o.a.createElement("input",{type:"text",value:i,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e.dispatch(e.editSubTodoAC(e.item.subId,e.id,{title:i})),b(!0))},onBlur:function(){b(!0)},autoFocus:!0,placeholder:"Input subtask..."}),o.a.createElement("div",{className:"buttons"},o.a.createElement("img",{src:d.a,alt:"remove",className:"button",onClick:function(){return e.dispatch(e.deleteSubTodoAC(e.id,e.item.subId))}}),o.a.createElement("img",{src:m.a,alt:"edit",className:"button",onClick:function(){b(!1)}})))},D=n(11),E=n.n(D),T=n(12),O=n.n(T),g=function(e){var t=Object(a.useContext)(r),n=t.dispatch,i=t.addSubTodoAC,c=t.deleteTodoAC,s=t.toggleTodoAC,u=t.editSubTodoAC,d=t.toggleSubTodoAC,l=t.deleteSubTodoAC,m=function(t){e.subTodo.length===e.subTodo.filter((function(e){return!0===e.isDone})).length?n(s(e.id,t)):n(s(e.id,!t))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.isDone?"todo-item todo-item--done":"todo-item"},o.a.createElement("div",{className:"loader"}),o.a.createElement("div",{className:"todo-item__check"},e.isDone?o.a.createElement("img",{src:f.a,className:"isDone isDone--todo",alt:"done"}):o.a.createElement("span",{className:"checkSpan checkSpan--todo"}),o.a.createElement("input",{type:"checkbox",className:"isDoneCheckbox isDoneCheckbox--todo",checked:e.isDone,onChange:function(){return n(s(e.id,!e.isDone))}})),o.a.createElement("span",null,e.title),o.a.createElement("div",{className:"date"},e.date),o.a.createElement("div",{className:"buttons"},o.a.createElement("img",{src:E.a,className:"button",onClick:function(){return n(i(e.id,{title:"",subId:Date.now()}))},alt:"add"}),o.a.createElement("img",{src:O.a,alt:"delete",className:"button",onClick:function(){return n(c(e.id))}}))),e.subTodo.map((function(t){return o.a.createElement(p,Object.assign({key:t.subId},e,{toggleDone:m,dispatch:n,toggleSubTodoAC:d,deleteSubTodoAC:l,editSubTodoAC:u,item:t}))})).reverse())},k=n(6),v=n(1),h=function(e,t){switch(t.type){case"FILTER":return Object(v.a)({},e,{filter:t.filter});case"ADD":return Object(v.a)({},e,{tasks:[].concat(Object(k.a)(e.tasks),[{id:Date.now(),date:"".concat((new Date).toLocaleDateString()),title:t.payload,isDone:!1,subTodo:[],progress:0}])});case"ADD_SUB_TODO":return Object(v.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(v.a)({},e,{subTodo:[].concat(Object(k.a)(e.subTodo),[Object(v.a)({},t.payload,{subId:Date.now(),isDone:!1})])}):e}))});case"TOGGLE_TODO":return Object(v.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(v.a)({},e,{isDone:t.isDone}):e}))});case"TOGGLE_SUB_TODO":return Object(v.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(v.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(v.a)({},e,{isDone:!e.isDone}):e}))}):e}))});case"EDIT_SUB_TODO":return Object(v.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(v.a)({},e,{subTodo:e.subTodo.map((function(e){return e.subId===t.subId?Object(v.a)({},e,{},t.payload):e}))}):e}))});case"DELETE":return Object(v.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"DELETE_SUB_TODO":return Object(v.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(v.a)({},e,{subTodo:e.subTodo.filter((function(e){return e.subId!==t.subId}))}):e}))});default:return e}},C=function(e){return{type:"FILTER",filter:e}},S=function(e,t){return{type:"ADD_SUB_TODO",id:e,payload:t}},A=function(e,t){return{type:"TOGGLE_TODO",id:e,isDone:t}},y=function(e,t){return{type:"TOGGLE_SUB_TODO",subId:t,id:e}},j=function(e,t,n){return{type:"EDIT_SUB_TODO",subId:e,id:t,payload:n}},N=function(e){return{type:"DELETE",id:e}},I=function(e,t){return{type:"DELETE_SUB_TODO",subId:t,id:e}},_=function(){var e=JSON.parse(localStorage.getItem("todos"))||{filter:"All",tasks:[]},t=Object(a.useReducer)(h,e),n=Object(s.a)(t,2),i=n[0],c=n[1],u=Object(a.useState)(""),d=Object(s.a)(u,2),l=d[0],m=d[1];Object(a.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(i))}),[i]);return o.a.createElement(r.Provider,{value:{dispatch:c,filterAC:C,addSubTodoAC:S,deleteTodoAC:N,toggleTodoAC:A,editSubTodoAC:j,toggleSubTodoAC:y,deleteSubTodoAC:I}},o.a.createElement("div",{className:"App"},o.a.createElement("h3",null,"Tasker"),o.a.createElement("input",{className:"main-input",type:"text",placeholder:"Input your task...",value:l,onChange:function(e){return m(e.target.value)},autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&(c(function(e){return{type:"ADD",payload:e}}(l)),m(""))}}),o.a.createElement("div",null,o.a.createElement("button",{className:"button button--filter ".concat("All"===i.filter&&"active"),onClick:function(){return c(C("All"))}},"All"),o.a.createElement("button",{className:"button button--filter ".concat("Completed"===i.filter&&"active"),onClick:function(){return c(C("Completed"))}},"Completed"),o.a.createElement("button",{className:"button button--filter ".concat("Active"===i.filter&&"active"),onClick:function(){return c(C("Active"))}},"Active")),"All"===i.filter&&i.tasks.filter((function(){return!0})).map((function(e){return o.a.createElement(g,{key:e.id,subTodo:e.subTodo,isDone:e.isDone,date:e.date,id:e.id,title:e.title})})).reverse()||"Completed"===i.filter&&i.tasks.filter((function(e){return!0===e.isDone})).map((function(e){return o.a.createElement(g,{key:e.id,subTodo:e.subTodo,isDone:e.isDone,date:e.date,id:e.id,title:e.title})})).reverse()||"Active"===i.filter&&i.tasks.filter((function(e){return!1===e.isDone})).map((function(e){return o.a.createElement(g,{key:e.id,subTodo:e.subTodo,isDone:e.isDone,date:e.date,id:e.id,title:e.title})})).reverse()))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.22105dd6.chunk.js.map